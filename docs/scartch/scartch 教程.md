# scartch 教程

## 开发环境配置

### 第一小节 KidsBlock软件安装 

软件下载链接

Windows系统软件：https://pan.baidu.com/s/1JJOss8q2zXNsObw24BHn3w

提取码：keye

Mac系统软件链接：https://pan.baidu.com/s/1Q7uXmj3mIDDqWz20om6YJw

提取码：keye

注意：这里是以Windows系统为例，macOS 系统可以以此作为参考。

（1）双击下载好的软件“KidsBlock Desktop 1.1.4 Setup.exe”![](media/551a9f50b7806b3cd7f3b1eb1b8a3d43.png)。

（2）先选中“为使用这台电脑的任何人安装”，再点击“下一步”。

![](media/5868a1bfda48a42ef163f33f228cfc6a.png)

（3）先点击“浏览（B）...”,选择安装的位置（我这里选择安装在C盘，你也可以选择安装在电脑的其他盘），再点击“安装”。这样，软件就在安装过程中。

![](media/bc35a80ff1f77650c4f4778ba88ce15f.png)

![](media/1f52414579ea8fa83660d2a35111fd50.png)

（4）几秒种后，安装完成。点击“完成”就可以打开安装好的软件。

![](media/e5221f246e9bd5286a6302ee527f9cf4.png)

（5）如果出现电脑安全警报窗口，点击“允许访问”。这样就可以打开了软件页面。

![](media/a2132540864426f437bd0befe711c7ab.png)

![](media/b533432d1d34514ed7243b0d26f3893a.png)

有更新软件时一般打开会自动提醒，为了软件能正常使用我们选择升级![](media/846685e3e9b0f18d155a7ecf389ca796.png)

我们也可在设置中手动更新软件

![](media/1143b889fd69e72473a4071055f8f19a.png)

如果已经是最新版本则显示

![](media/415745a84dbc153e57067dc86fc519d2.png)

### 第二小节 KidsBlock软件的使用方法 

（1）软件中各按钮的功能：

![](media/a4ecabcc1a47a97a8035be4d4564a868.png)

（2）点击![](media/3dd044ace633a5f7218b0d19a55ff9cf.png)可以选择语言![](media/61ae90fc9d6bb2d0e8ddb0862cbfe55c.png)“English”和“简体中文”。

（3）点击![](media/ceea175e15c8425a1a70baaaf56d40b3.png)，选择点击“安装驱动”。（注意：如果电脑已经安装了驱动程序，则不需要再安装驱动；如果没有，则需要进行以下操作）

A.在“设备驱动程序安装向导”页面选择点击“下一页”。

![](media/3da8a9f64ac714ef7aa522bc32b4cede.png)

2.  过一会儿，选择点击“完成”。

![](media/e14d22b5c866ea15aefe2b048bab7a3b.png)

3.  选择点击“下一页”。

![](media/34cf2f8b6e6fa7a28e03bee8fb3146bb.png)

4.  选择点击“完成”。

![](media/1d1562c2614b811ff0cb43da449985a1.png)

5.  如果出现安全页面，选择点击“允许”即可，然后选择点击“Install”。

![](media/ff3e762d69acbc3cc49d7f50f2ac5914.png)

![](media/55317031882e78e69fc63225e50219de.png)

E.选择点击“安装”。

![](media/6ffd47529f4dbac3831bd3f5917f6ed0.png)

6.  过一会儿，点击“Finish”。

![](media/06a890be5adedc1400ecd722634099e8.png)

7.  选择点击“Extract”。

![](media/de22f03179ae870d8bf19dc8c5cb6f63.png)

8.  选择点击“下一页”。

![](media/7b3b94085bb2012b4dab64a4d3ea6e1d.png)

9.  选择点击“我接受这个协议”后，点击“下一页”。

![](media/c176eaa9b8a278d497b5cb3aed623331.png)

10. 选择点击“完成”。

![](media/73f59ba0f06c6b36d9a8ca80429194a5.png)

11. 选择“安装”。

![](media/5a7ee544df41f82915ad7a07c5367988.png)

15. 过几秒钟后，驱动安装完成，点击“确定”即可。

![](media/72f2d50822510f87b5320f674d24d8ea.png)

（4）驱动安装完后，点击![](media/33193aae5cf46bccd050b84af65b9dde.png)进入主控板页面，可以选择需要添加的设备（控制板），本项目需要选择Uno Plus主控板。先点击Uno Plus主控板所处区域，后点击“连接”。这样Uno Plus主控板已连接上，点击“返回编辑器”回到编码编辑器。这样，我们会发现![](media/e3d5380fcd0890ff6320185808d7fab9.png)变成![](media/a007c723131e3e7323ce323d07e71196.png)，同时![](media/8cac6f60c26e2b10d1b2dc313ea5eb03.png)变成![](media/4f8778ff131729b181ea6ec292614a3c.png)，说明Uno Plus主控板和端口（COM） 都已经连接上了。

![](media/dffb264fb8b7313928d1ae0f8d23b4d9.png)

![](media/2fce58968e59ac36c46a9a1f84193ef7.png)

![](media/3ff6136ef4a84bea34669b28e98ed032.png)

![](media/d343401828fddbe1e6413602345192a8.png)

（5）假如Uno Plus主控板已经连接上后，但是![](media/8cac6f60c26e2b10d1b2dc313ea5eb03.png)没有变成![](media/4f8778ff131729b181ea6ec292614a3c.png)，则需要手动点击![](media/8cac6f60c26e2b10d1b2dc313ea5eb03.png)来连接端口（COM）。先点击![](media/8cac6f60c26e2b10d1b2dc313ea5eb03.png)，在出现的对话页面中点击![](media/a034167a19e4c273d77848c3df421dc3.png)，连接成功后，会出现“已连接”页面，说明端口已连接上了。

![](media/5b2c3d62be5681caed19095150aa70d8.png)

![](media/22cd29b6a1a6970409239eb7e610dbb3.png)

![](media/e38ca3317bc7fa51081b680cc03f361f.png)

![](media/d343401828fddbe1e6413602345192a8.png)

（6）如果需要断开端口，先点击![](media/4f8778ff131729b181ea6ec292614a3c.png)，在出现的对话页面中点击“断开连接”。这样，端口就断开了。

![](media/0fbc2939ff2e68b5560c539b4650b09a.png)

Uno Plus主控板和端口（COM）都已经连接上，接着点击![](media/44a15c56037a5e48ecbb79a3ea02cd4c.png)切换模式，这样就可以将![](media/44a15c56037a5e48ecbb79a3ea02cd4c.png)切换成![](media/aa20eb800371bb25be725dd0ce5179c1.png)。

![](media/64c51fe3fb1d31795511dc2e13768e36.png)

![](media/d958ac855a8f52a4901753123e7c6ee3.png)

![](media/4f079ed2db57bae15f5fd090dfdf9f3d.png)

（7）![](media/edf13a6361883d47ee8d7b127531bb0e.png)是添加传感器/模块和元件的扩展包，点击![](media/edf13a6361883d47ee8d7b127531bb0e.png)可以进入传感器/模块扩展库界面，点击传感器/模块所处区域，就可以添加对应的传感器/模块。例如需要添加超声波传感器模块，点击“超声波传感器”所处区域，“未加载”变成“已加载”，说明“超声波传感器”模块添加成功。

![](media/62a0822242047cd856941c14ef6e3243.png)
![](media/3c5966e327bdc6423aff32c94a48f54d.png)

点击![](media/95039e92d5182ecb0bccc177aaec3f80.png)，可以回到代码编辑器界面，在模块区可以看到添加的“超声波传感器”模块。

![](media/92e86ee30dd65001e54bc7dffb621ea6.png)
![](media/f0f2f219e7e3f5669a9b7108db73cdc1.png)

如果需要删除“超声波传感器”模块，只需要点击![](media/edf13a6361883d47ee8d7b127531bb0e.png)再次进入传感器/模块扩展库界面，点击“超声波传感器”所处区域，“已加载”变成“未加载”，则说明“超声波传感器”模块删除成功。

![](media/3c5966e327bdc6423aff32c94a48f54d.png)
![](media/62a0822242047cd856941c14ef6e3243.png)

其他的传感器/模块和元器件的添加和删除，方法是一样的。

（7）打开已有的SB3类型文件的方法：（推荐使用方法2，方法1打开时有时可能会丢失代码数据）

方法1：鼠标左键双击SB3类型文件，这样就可以打开SB3类型文件。例如：需要打开![](media/1874abbb35ed2bb3a1bd5967f3a13181.png)文件，则只需要左键双击![](media/1874abbb35ed2bb3a1bd5967f3a13181.png)文件就可以直接打开。

![](media/86564cd2671ca8ef7aaf16c3a022b9b2.png)

方法2：打开Kidsblock软件，点击“文件”，选择点击“从电脑中上传”，在电脑上选中需要打开的SB3类型文件（例如：![](media/1874abbb35ed2bb3a1bd5967f3a13181.png)文件）

![](media/c8b69ae6e64fda3bae42967c3ad84d84.png)

![](media/3b0e00113d3dbd7740a8052d64dd3717.png)

![](media/e46bd7b77ff563b22ff25fb882bf932a.png)

### 第三小节 启动你的第一个程序 

(1)可以直接打开我们编写好的程序：点击文件下的打开然后找到目录下的![](media/0d5e411fcf5f60efca5d36584414dcdf.png)程序并打开

|文件路径|文件名|
|-|-|
|Scratch教程\1. 开发环境配置\Hello_World程序|Hello_World.sb3|

![](media/e030011736dda764ceb27febea1e5bcd.png)

（2）上传程序：选择正确串口，波特率是：9600；控制板选择uno plus开发板；然后点击上传程序，程序上传成功会提示上传成功。![](media/63a688196348dfc7c3339e6e5411b042.png)

（3）实验结果：左下角监视窗口每隔0.5S打印一次“Hello World”

![](media/46f7c6acd0850839a16ff9db499c4206.png)

## 项目课程

### 第1课 蜂鸣器模块

![](media/51deebe17e93ab0bfaa42693745ccf08.png)

1.  项目介绍：

本模块兼容各种单片机控制板，如arduino、microbit等等。它的连接端口兼容arduino传感器扩展板。它主要由有源蜂鸣器组成，是一种一体化结构的电子讯响器，采用直流电源供电。模块接上电源后，当我们直接给信号端输入个高电平信号后，蜂鸣器响起,反之低电平关闭。模块自带2个4.8mm的定位孔，方便你将模块固定在其他设备。

2.  规格参数：

工作电压：3.3-5V（DC）

电流：50MA

工作温度：-10摄氏度 到 +50摄氏度

尺寸：31.6mmx23.7mm

接口：3PIN接口

输入信号：数字信号

3.  原理图：

![](media/e17b6a3d0b96742f328e9045ce801eb9.png)

原理：有缘蜂鸣器因为内部集成了多谐振荡器所以直接给直流电压就能发出声音；蜂鸣器的1脚接在VCC端，而蜂鸣器的2脚使用一个三极管进行控制，当单片机给三极管的基极（B）高电平时三极管的C极与E极导通到GND，蜂鸣器发声，单片机给三极管基极低电平时三极管的C极与E极截止，蜂鸣器停止发声。

4.  连接图：

![](media/e107de92cef0a731a5227ca55229ec0f.png)

5.  实验代码：

①在事件栏拖出Arduino启动模块

![](media/37ab24184ac16c0e149a6b4b7ad65f75.png)

②在引脚栏拖出设置引脚模块，并设置引脚为A0模式为输出

![](media/324969692306fa7e6f95665309a4b5c8.png)

③在控制栏拖出重复执行模块

![](media/88d4ea9bb79d47f65fe169c59f850d07.png)

④在引脚栏拖出设置引脚输出模块，设置引脚3，输出高电平

![](media/ef7d87c4ba4a4d746a6aa3ccdc3f050b.png)

⑤在控制栏拖出延时模块，设置延时2秒

![](media/668663583a74659d1652884d57453a5c.png)

⑤在引脚栏拖出设置引脚输出模块，设置引脚3，输出低电平

![](media/78a2f6e518c42ee7ddeee20a13dca1cc.png)

⑥在控制栏拖出延时模块，设置延时2秒

![](media/668663583a74659d1652884d57453a5c.png)

代码：

![](media/bacb4f03b0cf34ef0f1b40563129e572.png)

6.  测试结果：

有源蜂鸣器只需要有个高电平电压蜂鸣器就响起。烧录好代码，连接好线，上电后，有源蜂鸣器响2S，静音2S，循环交替。

### 第2课 按键模块

![](media/1a90cb6e20f8bdab71de591c68c14a26.png)

1.  项目介绍：

本传感器兼容各种单片机控制板，如arduino系列单片机。它的连接端口兼容arduino传感器扩展板。传感器输入一个按键信号，可以输出一个数字电压信号。当我们按下按键时传感器信号端输出低电平信号，释放按键时传感器信号端保持高电平。传感器自带2个4.8mm的定位孔，方便你将传感器固定在其他设备。

2.  规格参数：

工作电压：3.3-5V（DC）

电流：10MA

工作温度：-10摄氏度 到 +50摄氏度

尺寸：31.6mmx23.7mm

接口：3PIN接口

输出信号：数字信

3.  电路图：

![](media/74495c5a3c13b0f91e026320e26436c4.png)

原理：按键没有按下时VCC经过R1给到S端的电压是高电平，当按键按下后S端与GND导通电压被拉低了所以是低电平，R1的作用是避免VCC和GND直接短路。

4.  连接图：

![](media/aefc3b1e926f0e8d94840d202771abdc.png)

5.  实验代码：

①在事件栏拖出Arduino启动模块

![](media/2ce137f57a3abbd20ebf6b6e0156205f.png)

②在串口栏拖出设置串口波特率模块设置波特率为“9600”；在引脚栏拖出设置引脚模式模块，设置为引脚A0为输入

![](media/31474f13aa28bd22c7a421ae2f26f86b.png)

③在控制栏拖出重复执行模块

![](media/d7880a2c476c43c7252a792e2bb70b6b.png)

④在控制栏拖出判断模块，然后再判断模块里添加运算的等于模块，等于模块的左边添加读取数字引脚3模块，右边为0；满足条件串口打印“Key Down!”，不满足串口打印“Wait for the key to be pressed!”

![](media/23f4d2cf61ff99ac1d619d1ba8d59c0d.png)

代码：

![](media/f86c192da1ecd8c8404435f4872d5a18.png)

6.  实验结果：

按照上图接好线，烧录好代码； 打开arduino IDE的串口监视器，并点击![](media/8cbd66fdea5bcf401ea34db56d476248.png)设置波特率为9600，没有按下按键时串口打印“Wait for the key to be pressed!” ；按下按键后打印“Key Down!”如下图：

![](media/fbdb11968a52c6698e06d04f25d7126c.png)

### 第3课 人体红外热释传感器

![](media/e33ebccbc7750ff556d99b6c378e12fc.png)

1.  项目介绍：

人体红外热释电传感器是一款基于热释电效应的人体热释运动传感器，能检测到人体或动物身上发出的红外线，配合菲涅尔透镜能使传感器探测范围更远更广。它主要采用RE200B-P传感器元件，当附近有人或者动物运动时，该模块会输出一个高电平。

传感器兼容各种单片机控制板，如arduino系列单片机。使用时，我们可以在单片机上堆叠一个传感器扩展板。传感器和自带导线连接，然后连接在传感器扩展板上，简单方便。同时，传感器自带2个直径为4.8mm的定位孔，方便你将传感器固定在其他设备。

2.  规格参数：

工作电压范围：DC 3.3V-5V

工作电流50MA

最大功率：0.3W

工作温度：-10摄氏度 到 +50摄氏度

模块尺寸：31.6mmx23.7mm

静态电流: \<50uA

接口：间距为2.54mm 3pin

控制信号：数字信号

触发方式: L 不可重复触发/H 重复触发

最大检测距离：7米

感应角度: \<100 度锥角

3.  电路图：

![](media/80e6273b5a9adea94ac1c42ad79e45f9.png)原理：人体都有恒定的体温，一般在
37 度，所以会发出特定波长 10μm
左右的红外线，我们的传感器就是捕捉10μM的红外线，进行判断有没有人。

4.  接线图：

![](media/4a8b1ee8ed23f50768b7e0ff99a14946.png)

5.  实验代码：

①在事件栏拖出Arduino启动模块

![](media/2ce137f57a3abbd20ebf6b6e0156205f.png)

②在串口栏拖出设置串口波特率模块设置波特率为“9600”；在引脚栏拖出设置引脚模式模块，设置为引脚A0为输入

![](media/624beeaf4407246db4bf901d1d61058e.png)

③在控制栏拖出重复执行模块

![](media/d7880a2c476c43c7252a792e2bb70b6b.png)

④在控制栏拖出判断模块，然后再判断模块里添加运算的等于模块，等于模块的左边添加读取数字引脚10模块，右边为0；满足条件串口栏拖出串口打印模块设置文字为"Somebody is in this area!"

⑤当不满足条件，串口栏拖出串口打印模块设置文字为"No one!" ；
在判断语句外面添加一个0.5秒的延时，作用是放慢串口的打印速度。

![](media/8166ad38d808a0f30c6b6630140100f1.png)

代码：

![](media/6faf6cd489b483c23baaf033b870d396.png)

6.  实验结果：

按照接线图连接好线，上传代码，打开串口监视器，点击![](media/c1251fbfd337a0ee4d2e2783485145ba.png)设置波特率为9600。检测到人体运动时串口监视器中显示"Somebody is in this area!"；没有检测到人体运动时串口监视器中显示"No one!"。

![](media/422e53e53da19c93918744bd0cad1588.png)

### 第4课 倾斜开关模块

![](media/47304ef0be69753ce7edd2b3b3377b49.png)

1.  项目介绍：

本模块兼容各种单片机控制板，如arduino系列单片机。它的连接端口兼容arduino传感器扩展板。它主要是利用滚珠在开关内随不同倾斜角度的发化，达到触发电路的目的,从而输出高低电平；可用于倾斜检测、报警器制作或者其他检测。模块自带2个定位孔，方便你将模块固定在其他设备。

2.  规格参数：

工作电压：3.3V-5V（DC）

电流：50MA

最大功率：0.3W

工作温度：-10摄氏度 到 +50摄氏度

尺寸：31.6mmx23.7mm

接口：3PIN接口

输出信号：数字信号

3.  电路图：

![](media/0261aa6e00c1752e439461c9f0e8c210.png)

原理：它的原理非常简单，附原理图，主要是利用滚珠在开关内随不同倾斜角度的发化使滚珠开关P1的引脚1和2导通或者不导通，当1和2导通时，因为1教接GND，所以信号端S为低电平，此时红色LED形成回路，将会点亮；当1和2不导通时，引脚2被4.7K的上拉电阻R1拉高而使信号端S为高电平，模块上的LED将熄灭。

4.  接线图：

![](media/cd897a9d6bbad8020133fe32af45946f.png)

5.  实验代码：

①在事件栏拖出Arduino启动模块，在串口栏拖出设置波特率模块并设置波特率为9600

![](media/8a06a649f157f8bff18a60249bf739bb.png)

②在引脚栏拖出设置引脚模式模块，一个设置为引脚A0输入

![](media/be4d75d325b96844f9a0189907a92580.png)

③在控制栏拖出重复执行模块

![](media/199821f88979a57d6592c7b6f6176ed2.png)

④在控制栏拖出判断模块，然后再判断模块里添加运算的等于模块，等于模块的左边添加读取数字引脚10模块，右边为0；

![](media/b0879fb77b76b81e1ee42049ec0002ba.png)

⑦在串口栏拖出串口打印并换行代码块，满足条件时串口打印“Normal！”，不满足时串口打印“Tilt warning！”；然后在判断语句外面放一个延时函数延时0.5秒

![](media/c13083d6f37d8d117c65aa3fcebacda3.png)

代码：

![](media/c8fee6c674a67fb767a61126116941d5.png)

6.  实验结果：

按照接线图接好线，上传代码，打开串口监视器，点击![](media/8c84712245595d53b8e60c71c6173d4f.png)设置波特率为9600，水平放置倾斜开关模块，模块上LED灯亮，串口打印“Normal！”，模块向右倾斜LED灯灭，串口打印“Tilt warning！”

![](media/03d71fe1140cc7b0d46f0b7e90a716d3.png)

### 第5课 光敏传感器

![](media/43852f78b7743c2c0365c7141b1cacee.png)

1.  项目介绍：

本传感器兼容各种单片机控制板，如arduino系列单片机。它的连接端口兼容arduino传感器扩展板。它对环境光线最敏感，输出一个模拟信号，一般用来检测周围环境的光线的亮度，触发单片机或继电器模块等。传感器自带2个定位孔，方便你将传感器固定在其他设备。

2.  规格参数：

工作电压：3.3V-5V（DC）

电流：20MA

最大功率：0.1W

尺寸：31.6mmx23.7mm

工作温度：-10摄氏度 到 +50摄氏度

接口：3PIN接口

输出信号：模拟信号

3.  电路图：

![](media/baae5294d38c9b71f3061f09301a7da3.png)

原理：当没有亮光时，电阻大小为0.2MΩ，信号端（2点）检测的电压接近0，当随着光照抢度增大，光线传感器的电阻值越来越小，所以信号端检测的电压越来越小。

4.  连接图：

![](media/4a64e6465912093873c37ff65b1d6fba.png)

5.  实验代码：

①在事件栏里拖出Arduino启动模块

![](media/c33acdc4d6207d70d4c2212503c097be.png)

②在串口栏拖出设置串口波特率模块并设置波特率为9600；

![](media/22310cee42636efa8f9065b4afc8d88f.png)

③在控制栏拖出重复执行模块

![](media/004227c0ee34427be4878c84ca582a82.png)

④在串口栏拖出串口打印模块，并添加引脚栏里的读取模拟引脚A0的模块在里面；最后添加一个延时为0.5s的延时模块

![](media/9e94a15eab0b07705eb7906b44cf4092.png)

代码：

![](media/556da2aa86aa3a064cf04b5cefcd589c.png)

6.  实验结果：

按照接线图接好线，上传代码，打开串口监视器，点击![](media/2dacd857a85e33270948b69853afcd65.png)设置波特率为9600，便可以看到代表当前光线强弱的模拟值，如下图。

![](media/e5188a4325f10767ccdd1e364b65468f.png)

### 第6课 声音传感器

![](media/12cc26052d7cb93b9544d8fed5a015eb.png)

1.  项目介绍：

本传感器兼容各种单片机控制板，如arduino系列单片机等。它的连接端口兼容arduino传感器扩展板。传感器有S端是模拟输出，是麦克风的电压信号实时输出，通过电位器可调节信号增益。传感器自带2个定位孔，方便你将传感器固定在其他设备。

2.  规格参数：

工作电压：5V（DC）

工作电流：100mA

最大功率：0.5W

工作温度：-10摄氏度 到 +50摄氏度

尺寸：31.6mmx23.7mm

接口：3PIN接口

输出信号：模拟信号

3.  电路图：

![](media/71a2e4411640a5c34e4173acf893b2a6.png)

原理：声波使麦克风内的驻极体薄膜振动，导致电容的变化，而产生与之对应变化的微小电压。然后利用LM386芯片搭建合适的电路，我们对高感度麦克风检测到的声音进行放大，最大倍数为200倍。使用时我们可以通过旋转传感器上电位器，调节声音的放大倍数。调节时，顺时针调节电位器到尽头，放大倍数最大。

4.  连接图：

![](media/3b1393eefd6b328465c78b125972ce6e.png)

5.  实验代码：

①在事件栏里拖出Arduino启动模块

![](media/cb3dcdc92212e416aa1799959d4449b6.png)

②在串口栏拖出设置串口波特率模块并设置波特率为9600；

![](media/4a7fbeccd031bc558a85eabd7c59aa62.png)

③在控制栏拖出重复执行模块

![](media/81175b359ef55c8bf15a92e50783865b.png)

④在串口栏拖出串口打印模块，并添加引脚栏里的读取模拟引脚A0的模块在里面；最后添加一个延时为0.2s的延时模块

![](media/519d5a0f6155e58b9c4665936013877a.png)

代码：

![](media/1c7ae3ca89b6da0e435cc6debc8aee63.png)

6.  实验结果：

按照连接图接好线，上传代码，打开串口监视器，点击![](media/70413c268eec92e1ca0d9947e37fb0e9.png)设置波特率为9600，便可以看到声音的模拟值了，声音越大模拟值越大。如下图：

![](media/44073c4a50d27b05b4891a49d157f35d.png)

### 第7课 旋转电位器模块

![](media/64deff371131b942371d6916d56ff09c.png)

1.  项目介绍：

本模块兼容各种单片机控制板，如arduino系列单片机等等。它的连接端口兼容arduino传感器扩展板。模块上电后，我们只需选择模块上电位器就可以调节模拟输出数值。模块自带2个定位孔，方便你将模块固定在其他设备。

2.  规格参数：

工作电压：3.3-5V（DC）

电流：20MA

功率：0.1W

工作温度：-10摄氏度 到 +50摄氏度

尺寸：31.6mmx23.7mm

接口：3PIN接口

输出信号：模拟信号

3.  电路图：

![](media/9f9e301d7d315c442a43958db97aaa9a.png)

原理：电位器其实就是一个可以改变电阻值的电阻元件，我们这个电位器是10K的，也就是说我们可以通过旋转便可以得到0-10K的任意阻值，根据欧姆定律U=I\*R，所以我们通过改变R的阻值进行控制电压的大小。而我们的uno板会将读取到的0-5V的电压分成1024份，所以就得到了模拟值。

4.  连接图：

![](media/6404fda2df365fcc0506f380af9a47a6.png)

5.  实验代码：

①在事件栏里拖出Arduino启动模块

![](media/c33acdc4d6207d70d4c2212503c097be.png)

②在串口栏拖出设置串口波特率模块并设置波特率为9600；

![](media/22310cee42636efa8f9065b4afc8d88f.png)

③在控制栏拖出重复执行模块

![](media/004227c0ee34427be4878c84ca582a82.png)

④在串口栏拖出串口打印模块，并添加引脚栏里的读取模拟引脚A0的模块在里面；最后添加一个延时为0.1s的延时模块

![](media/65bd2e12c58493b7bdce75193c86e57c.png)

代码：

![](media/e14f5cce9f1afaea54bf6ba06009da08.png)

6.  实验结果：

按照连接图连接好线，上传代码，打开串口监视器，点击![](media/8e197b7fdbf089f423a5825c67c4c050.png)设置波特率为9600，我们便能看见旋转电位器的模拟值了，扭动旋转电位器值发生变化。如下图：

![](media/9f8cbdf8ac23f3bd2640d042e875bc5b.png)

### 第8课 温湿度传感器

![](media/f11d9320a04fd1ff003c34ffc975b1fe.png)

1.  项目介绍：

XHT11温湿度传感器，XHT11作为一款低价、入门级的温湿度传感器，常用于我们的单片机设计实例中;它应用专用的数字模块采集技术和温湿度传感技术，确保产品具有极高的可靠性与卓越的长期稳定性。传感器包括一个电阻式感湿元件和一个NTC测温元件，XHT11为4针单排引脚封装，如下图，采用单线制串行接口，只需加适当的上拉电阻，信号传输距离可达20米以上，使其成为各类应用甚至最为苛刻的应用场合的最佳选择。该产品具有品质卓越、超快响应、抗干扰能力强、性价比极高等优点。

2.  规格参数：

工作电压：3.3-5V（DC）

工作电流：50MA

最大功率：0.25W

工作温度：-25摄氏度 到 +60摄氏度

传感器尺寸：31.6mmx23.7mm

接口：3PIN接口

端口：数字双向单总线

温度范围：0-50℃±2℃

湿度范围：20-90%RH±5%RH

3.  电路图：

![](media/ac2d483d7421e0871fce88f05e38c27a.png)

原理：xht11内部的相关设置已经由生产商设置好了，我们只需要根据它的时序图进行有序的读取并处理数据即可。这方面的代码我们已经写好并封装成库了，直接调用相关函数便能读取到温湿度的值。

4.  连接图：

![](media/a50ed24c2e65b97c87e51b06e2ec8520.png)

5.  实验代码：

首先添加扩展DHT11模块，将UNO plus开发板连接到电脑，点击“No device selected”

![](media/e1f318ce27039e29cd2e5895219a228b.png)

点击UNO Plus

![](media/8642909b7a2d702892b60497d53eef9d.png)

点击“Connect”连接UNO Plus开发板，然后点

![](media/6c4e98f6c1b58c32c7ec1898622499dd.png)

连接成功后点击右上角的“Realtime”

![](media/dbd8b21760c28ed43072d3a7ea0a8baa.png)
![](media/7c9c748aa68be7e1e19968991e8550b6.png)

然后再点击左下角的，

![](media/e2e22828951d4554462fecdad05c76f2.png)

便可以在栏目中寻找到dht11的代码块，并点击它进行添加

![](media/b9a8370094043e12f5b8f7897e3f7075.png)
![](media/32b387ef45c2bd5b48a284e78fd207d3.png)

①在“事件” 栏拖出启动 arduino 模块

![](media/5283c9a2dede879609ad9c287c62b949.png)

②在“串口”栏拖出设置串口波特率模块，并设置波特率为9600 ；
在“温湿度传感器”栏拖出初始化DHT引脚模块设置引脚为A0，型号为dht11

![](media/d02778002d1206a1c04cc3421f0ccbf8.png)

③在“控制”栏拖出重复执行模块

![](media/4776da9c726118053c8ab771c8d4be57.png)

④在“串口”栏拖出串口打印模块，设置串口打印“Temperature:”不换行 ；
将读取温度模块放到串口打印模块中并设置不换行 ； 设置串口打印“C
”不换行（注意C后面有两个空格）

![](media/67211204248c46ec24a6ea1010938050.png)

⑤在“串口”栏拖出串口打印模块，设置串口打印“Humidity:”不换行 ；
将读取湿度模块放到串口打印模块中并设置不换行 ； 设置串口打印“%”不换行 ；
在添加一个100ms的延时

![](media/cafa8c0587531113ee3fde31b3958584.png)

完整代码：

![](media/c78554829076d43721a5d99ef8e34f50.png)

6.  实验结果：

按照连接图接好线，上传代码，打开串口监视器，设置波特率为9600，便可以看到当前环境温度值和湿度值，如下图。

![](media/760c33b8f8f91b34546be47d6d0c2f47.png)

### 第9课 薄膜压力传感器

![](media/55dc59310d7c729bf5d66af7e443b2ca.png)

1.  项目介绍：

薄膜压力传感器是基于新型纳米压敏材料辅以舒适杨式模量的超薄薄膜衬底一次性贴片而成，兼具防水和压敏双重功能。当传感器感知到外界压力时，传感器电阻值发生变化，我们采用电路将传感器感知压力变化的压力信号转换成相应变化强度的电信号输出。这样我们就可以通过检测电信号变化就可以得到压力变化情况。

2.  规格参数：

工作电压：DC 5V

电流：20MA

最大功率：0.1W

工作温度：-10摄氏度 到 +50摄氏度

尺寸：31.6mmx23.7mm

量程：0-5KG

响应点：150g

重复性：＜±9.7%（60%负载）

一致性：±10%

耐久性：＞100万次

初始电阻：大于10MΩ(无负载)

响应时间：＜1ms

恢复时间：＜15ms

3.  电路图：

![](media/00603f960d45228d694ec706c0101a09.png)

原理：当传感器感知到外界压力时，传感器电阻值发生变化，我们采用电路将传感器感知压力变化的压力信号转换成相应变化强度的电信号输出。这样我们就可以通过检测电压信号变化就可以得到压力变化情况。

4.  连接图：

![](media/051b335131b196649ac9cf69ad785182.png)

5.  实验代码：

①在事件栏拖出Arduino启动模块，然后在串口栏拖出串口启动波特率模块并设置为9600

![](media/b18423e30a6878b3e9d879776846b777.png)

②在控制栏拖出重复执行模块

![](media/916208c12542a0ce551a274e7eb4d28f.png)

③在串口栏拖出串口打印换行代码块

![](media/fd9805c052809bf63e86251b9e7dfb05.png)

④在引脚栏拖出读取模拟引脚代码块，设置引脚为A0，并将代码块添加到串口打印模块中。

⑤在事件栏拖出延时模块，设置延时时间为0.1秒

![](media/4db5e40d0bad344ba2ac2a00bda57415.png)

完整代码：

![](media/60c0fc966944b1dc60f12a1fddcfbd45.png)

6.  实验结果：

按照接线图接好线，上传代码，打开串口监视器，设置波特率为9600，便能看见压力传感器的模拟值了，按压感应区便能改变模拟值，如下图：

![](media/b0acad41a3c0ad628cb06acdbd30c097.png)

7.  特别注意：

前面的值是属于压力的模拟值并非压力值。

要想得到压力值方法如下：

1.  该传感器模块利用1个传感器元件串联1个510KΩ电阻。传感器一端接5V电源，一端连接510KΩ电阻，电阻连接GND。测试时，传感器连接电阻的一端为信号端，接模拟口。

2.  通过上述描述，我们得到电阻和模拟值的计算公式：

3.  R=（1023-A0）\*510/A0 单位为KΩ

4.  根据上述公式，我们得到传感器元件电阻值，观察以下压力-阻值关系图，我们可以大概得到压力值，我们没有详细公式计算出具体的压力数值。

![](media/9a791bcaedaa65a95cafa03ab1034f05.png)

5.  从图片上可以观察到，到压力值大于5000g时，压力值变化，电阻值几乎不变化，因此，我们建议测试时，最大压力值为5000g。

6.  由于传感器元件感应区是凹进去的，测试时，需要将测试物体放在圆片中间的感应区域内才可以测试出结果；如果把传感器直接放在平面上，将测试物体放在传感器感应区，是测试不出结果的。因此，我们需要在传感器感应区内垫一个小物体，再将测试物体放在传感器感应区的小物体上，才能测试出结果。

### 第十四课 电机驱动

![](media/a3fc1ac20c4429413f304a0b33b679f4.png)

1.  项目介绍：

这是一个像素为128\*32的液晶屏模块，它的驱动芯片为ST7567A。模块使用IIC通信方式，它不仅可以显示英文文字，还可以显示中文文字和图案。

为了方便设置，我们还提供一个测试代码，代码中，我们设置显示屏显示各种英文文字、常用符号和一个图案。同时，代码中包含所有英文字母和常用符号的库，可以直接调用。使用时，我们还可以在代码中设置，让英文字母和符号显示不同文字大小。为了方便设置图案显示，我们还提供一个取模软件，可将特定的图案转化成控制代码，然后直接复制到测试代码中使用。

特别注意，模块的接口为白色的4pin自锁接口，接口间距为2.54mm，使用时，我们需要利用特定的接线连接。

2.  规格参数：

分辨率：128\*32

工作电压：5V

电流：100MA

最大功率：0.5W

工作温度：0摄氏度 到 40摄氏度

尺寸：47.6MM \*23.8MM

通信方式：IIC通信

亮度、对比度可通过程序指令控制

接口：4PIN接口

3.  电路图：

![](media/87c0ce8afc5d6a8c9baea3f76e75a12f.png)

该模块使用IIC通讯原理，底层函数我们已经封装在库里面，我们直接调用库函数就可以，如果感兴趣的话也可以去了解该模块的底层驱动。

4.  连接图：

![](media/debeabde1e140d1884eb6244a610afa2.png)

5.  实验代码：

首先添加扩展128X32LCD模块，将UNO plus开发板连接到电脑，点击“No device selected”

![](media/e1f318ce27039e29cd2e5895219a228b.png)

点击UNO Plus

![](media/8642909b7a2d702892b60497d53eef9d.png)

点击“Connect”连接UNO Plus开发板，然后点

![](media/6c4e98f6c1b58c32c7ec1898622499dd.png)

连接成功后点击右上角的“Realtime”

![](media/dbd8b21760c28ed43072d3a7ea0a8baa.png)
![](media/7c9c748aa68be7e1e19968991e8550b6.png)

然后再点击左下角的，

![](media/e2e22828951d4554462fecdad05c76f2.png)

便可以在栏目中寻找到dht11的代码块，并点击它进行添加

![](media/a395043a80c3404247bfbc08ecc58c74.png)
![](media/42509f8a6f473d573b87b957f0fc42c1.png)

①在“事件”栏拖出启动 arduino 模块

![](media/3fe17278aaecf657c99ab8398ef1c05f.png)

②在“LCD 128\*32”栏拖出LCD 初始化模块

![](media/ff49031f712c5b6ad1d0b85ca2b2a80b.png)

③在“控制”栏拖出 重复执行模块

![](media/73d53cb59db5cbdf0f98398414bf4a4d.png)

④在“LCD 128\*32”栏拖出设置LCD显示位置模块，并设置显示位置为第0列第7行 ；
然后再拖出LCD 显示字母模块 设置显示字符为“KEYES”

![](media/0656c31386b7fbd5203d8ff4a5f1d076.png)

⑤在“LCD 128\*32”栏拖出设置LCD显示位置模块，并设置显示位置为第1列第0行 ；
然后再拖出LCD 显示字母模块 设置显示字符为“ABCDEFGHIJKLMNOPQR”

![](media/969c0379c4038980ddf7f28e883ca6dd.png)

⑥在“LCD 128\*32”栏拖出设置LCD显示位置模块，并设置显示位置为第2列第0行 ；
然后再拖出LCD 显示字母模块 设置显示字符为“123456789+-\*/\<\>=$@”

![](media/ab05dd94ed74c8ac248fbaaba0201256.png)

⑦在“LCD 128\*32”栏拖出设置LCD显示位置模块，并设置显示位置为第3列第0行 ；
然后再拖出LCD 显示字母模块 设置显示字符为“%^&(){}:;'|?,.~\\\[\]”

![](media/4d118ffa6c87288b3e3df388c60c266d.png)

代码：

![](media/0a846791b54a3c6f580bb901c13d38a1.png)

6.  实验结果：

按照连接图接好线，上传代码，便能看见LCD上显示我们设置好的字符了。如下图：128X32LCD模块显示屏第一行显示“KEYES”、第二行显示“ABCDEFGHIJKLMNOPQR”、第三行显示“123456789+-\*/\<\>=$@”、第四行显示“%^&(){}:;'|?,.~\\\[\]”，如下图所示：

![](media/d1f543358fa84e0845b84cdae3a1a69f.png)

### 第11课 门铃

1.  项目介绍：

扩展对传感器的使用思维，将它们结合起来做出更有意思的东西。这节课我们要做的是门铃，也就是将按键和蜂鸣器及合起来。当按下按键时蜂鸣器遍发出声音。

2.  连接图：

![](media/dd82a69eb41f7ae9e96d63757920b5fe.png)

3.  实验代码：

①在“事件”栏拖出 启动arduino模块

![](media/9b1c5c39344028fa0d2fce4489f9342c.png)

②在“引脚”栏拖出设置引脚模式模块，设置引脚A0为输入，设置引脚A1为输出

![](media/1d8f18bd65561600f645952df9385bb7.png)

③在“控制”栏拖出重复执行模块

![](media/49d93ad416047d452f530c4b382b6a92.png)

④在“控制”栏拖出判断模块 ；在“运算”栏拖出等于模块，放到判断语句的条件框中
；在“引脚”栏拖出读取数字引脚模块设置引脚为“A0”，放到等于模块框中，等于模块右边设置为数字“0”

![](media/89c619cd1d689fa37f4bd01198cc19fb.png)

⑤在“引脚”栏拖出设置引脚输出模块，并设置引脚为A1，放到判断模块中，如果条件满足则A1脚输出高电平；条件不满足则A1脚输出低电平

![](media/f61b79debfbd18061d5d195882a6cf13.png)

代码：

![](media/09241fa0691ce6a9f4c2029dd67d802a.png)

4.  实验结果：

按照接线图接好线，上传代码完成后，按下按键蜂鸣器便会响起。

5.  扩展：

上面我们的门铃是按下就一直响，想办法将它变成按下按键后门铃“滴~滴~滴~”的响呢?

### 第12 闯入报警器

1.  项目介绍：

在生活中，相信大家已经对走到楼梯口灯就会自动亮起来已经习以为常了，这节课就是使用人体红外热释传感器与蜂鸣器做一个有人闯入就会报警的设备。

2.  连接图：

![](media/6364a743b4bc50ad796447e3f093620e.png)

3.  实验代码：

①在“事件”栏拖出 启动arduino模块

![](media/9b1c5c39344028fa0d2fce4489f9342c.png)

②在“引脚”栏拖出设置引脚模式模块，设置引脚A0为输入，设置引脚A1为输出

![](media/459c59e3b11b5576512fae2a7e5e1774.png)

③在“控制”栏拖出重复执行模块

![](media/49d93ad416047d452f530c4b382b6a92.png)

④在“控制”栏拖出判断模块 ；在“运算”栏拖出等于模块，放到判断语句的条件框中
；在“引脚”栏拖出读取数字引脚模块设置引脚为“A0”，放到等于模块框中，等于模块右边设置为数字“1”

![](media/c92c05d31e3a6bb023c8838d4c5fa2be.png)

⑤在“引脚”栏拖出设置引脚输出模块，并设置引脚为A1，放到判断模块中，如果条件满足则A1脚输出高电平；条件不满足则A1脚输出低电平

![](media/9700cbf5a4789b5c43ec760c6066471d.png)

代码：

![](media/e901d6b13699537802a8dcfb05775c44.png)

4.  实验结果：

按照连接图接好线，上传代码，当传感器前方有人移动时蜂鸣器便会响起

### 第13课 压力报警器

1.  项目介绍：

这一课我们学习薄膜压力传感器与蜂鸣器的搭配，当压力过了一定值时蜂鸣器便发声报警。

2.  连接图：

![](media/26a4e721d30db2ad39c4ef10bf0c7e4f.png)

3.  实验代码：

①在“事件”栏拖出启动 arduino 模块

![](media/b7495e7f4b21940b27bdac39b1fb9605.png)

②在“引脚”栏拖出设置引脚模式模块，并设置引脚为A1模式为 输出
；在“变量”栏拖出设置全局变量代码块

![](media/a332e064c28b4cd28d75c9752b8513d5.png)

③在“控制”栏拖出重复执行模块

![](media/c12ad822bd06326fd5c1f3de586db1e1.png)

④在“变量”栏拖出设置变量模块 ； 在
“数据”栏拖出映射模块，添加到设置设置变量模块中 ；
在“引脚”栏拖出读取模拟引脚模块，设置引脚为A0，然后添加到映射模块的第一格里，然后设置映射模块的数据为“从（1023,0）到（0,1023）”

![](media/51869379cdf9eca7ae707cb45375f832.png)

⑤在“控制”栏拖出判断模块 ； 在“运算”栏拖出
大于模块并在大于模块的左边边格子添加“item”变量，右边边设置数字600

![](media/26637ebdb4983f035e102e1e0ad0fa03.png)

⑥在“引脚”栏拖出设置引脚输出模块，如果满足条件则A1脚输出高电平，不满足则输出低电平

![](media/86265c6e80572b4580326fa4f7c1687e.png)

代码：

![](media/4fe80713a02b1898ce6cc0760e6f34a8.png)

4.  实验结果：

按照连接图接好线，上传代码，当按压薄膜压力传感器的感应区的力度大于模拟值的600时蜂鸣器便会发声报警。

### 第14课 LCD仪表盘

1.  项目介绍：

我们有很多个传感器需要看数值，而又不能一直拿着电脑看，这时候LCD模块就起作用了，可以利用它来显示各种数据。

2.  连接图：

![](media/79759ed26473b38d5063f75363334710.png)

3.  实验代码：

事先添加dxt11传感器和LCD 128\*32模块的代码块，第8课与第10课有详细教程

①在“事件”栏拖出 启动arduino 模块

![](media/2d115e8a4fc1322f4c85e3b79699c693.png)

②添加dht11初始化模块，并设置引脚为10，型号为dht11； 然后添加LCD 128\*32
的初始化模块

![](media/a833bbc7be073cdcd730bbcbd9a3e928.png)

③在“控制”栏拖出 重复执行模块

![](media/38b74b44aea23402f13c31480385da70.png)

④添加一个设置LCD 显示位置模块设置显示位置为第0行，第0列（这样显示的字符或数字将会在第0行的第0列开始显示）
；在添加一个LCD显示字符模块设置显示字符为“humidity:” ；
添加设置显示位置模块设置为 第0行，第10列 ；
添加LCD显示数字模块，然后将dst11的读取湿度模块添加到显示数字模块中。最后的延时模块只是用于区分开每一行的显示代码块，这样方便寻找些。

![](media/045d99ed8ea2092e7cb96b43904872ab.png)

⑤添加一个设置LCD 显示位置模块设置显示位置为 第1行，第0列
；在添加一个LCD显示字符模块设置显示字符为“temperature:” ；
添加设置显示位置模块设置为 第1行，第13列 ；
添加LCD显示数字模块，然后将dst11的读取温度模块添加到显示数字模块中。最后的延时模块只是用于区分开每一行的显示代码块，这样方便寻找些。

![](media/9c8322c6035489268f75ce1688d32262.png)

⑥添加一个设置LCD 显示位置模块设置显示位置为 第2行，第0列
；在添加一个LCD显示字符模块设置显示字符为“Luminance:” ；
添加设置显示位置模块设置为 第2行，第11列 ； 添加LCD显示数字模块，然后将
读取模拟引脚A2模块
添加到显示数字模块中。最后的延时模块只是用于区分开每一行的显示代码块，这样方便寻找些。

![](media/8254d79ca9bf61f7ad27bcda8420bb91.png)

⑦添加一个设置LCD 显示位置模块设置显示位置为 第3行，第0列
；在添加一个LCD显示字符模块设置显示字符为“Analog:” ；
添加设置显示位置模块设置为 第3行，第8列 ； 添加LCD显示数字模块，然后将
读取模拟引脚A1模块
添加到显示数字模块中。最后的延时模块只是用于区分开每一行的显示代码块，这样方便寻找些。

![](media/edd857b1c9e39fde7baba4cbb6887fd1.png)

代码：

![](media/e09586c7a0f36078a84b33f6ea296129.png)

4.  实验结果：

按照连接图接好线，上传代码，便能看见LCD上显示我们需要的传感器值了。如下图：128X32LCD模块显示屏第一行显示湿度、第二行显示温度、第三行显示光亮度、第四行显示电位器的模拟值，如下图所示：

![](media/689318e48d9c7635338e4f1f042ae5de.png)
